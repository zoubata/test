/**
 * \file
 *
 * \brief SAM SAM-BA Bootloader
 *
 * Copyright (c) 2015-2016 Atmel Corporation. All rights reserved.
 *
 * \asf_license_start
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * 3. The name of Atmel may not be used to endorse or promote products derived
 *    from this software without specific prior written permission.
 *
 * 4. This software may only be redistributed and used in connection with an
 *    Atmel microcontroller product.
 *
 * THIS SOFTWARE IS PROVIDED BY ATMEL "AS IS" AND ANY EXPRESS OR IMPLIED
 * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT ARE
 * EXPRESSLY AND SPECIFICALLY DISCLAIMED. IN NO EVENT SHALL ATMEL BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
 * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
 * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
 * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
 * ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 *
 * \asf_license_stop
 *
 */

/**
 * \mainpage SAM-BA Bootloader Application
 *
 * \section Purpose
 *
 * The example will help new users get familiar with Atmel's SAM0 family microcontrollers
 * bootloader for SAM-BA. This basic application will be used when connecting with SAM-BA.
 *
 * \section Requirements
 *
 * This package can be used with SAM C21/D21/DA1/L21/L22/R21 xplained pro.
 *
 * \section Description
 *
 * The bootloader code will be located at 0x0 and executed before any applicative code.
 * Applications compiled to be executed along with the bootloader will start at 0x2000
 * (not support USBCDC interface) or 0x6000 (supoort USBCDC interface).
 * Before jumping to the application, the bootloader changes the VTOR register
 * to use the interrupt vectors of the application.
 *
 * \section Usage
 *
 * -# Build the program and download it inside the evaluation board.
 * -# Start the application.
 * -# Pressing button SW0 the board will enter SAM-BA monitor mode.
 *
 */
 /*
 * Support and FAQ: visit <a href="http://www.atmel.com/design-support/">Atmel Support</a>
 */

#include "asf.h"
#include <stdio.h>
#include <stdlib.h>
#include <io.h>
#include <string.h>
#include "conf_board.h"
#include "conf_clocks.h"
#include "conf_bootloader.h"
#include "sam_ba_monitor.h"
#include "usart_sam_ba.h"

static void check_start_application(void);

#ifdef CONF_USBCDC_INTERFACE_SUPPORT
static volatile bool main_b_cdc_enable = false;
#endif
/**
 * \brief Check the application startup condition
 *
 */
static void check_start_application(void)
{
	uint32_t app_start_address;

	/* Load the Reset Handler address of the application */
	app_start_address = *(uint32_t *)(APP_START_ADDRESS + 4);

	/**
	 * Test reset vector of application @APP_START_ADDRESS+4
	 * Stay in SAM-BA if *(APP_START+0x4) == 0xFFFFFFFF
	 * Application erased condition
	 */
	if (app_start_address == 0xFFFFFFFF) {
		/* Stay in bootloader */
		return;
	}

	volatile PortGroup *boot_port = (volatile PortGroup *)(&(PORT->Group[BOOT_LOAD_PIN / 32]));
	volatile bool boot_en;

	/* Enable the input mode in Boot GPIO Pin */
	boot_port->DIRCLR.reg = GPIO_BOOT_PIN_MASK;
	boot_port->PINCFG[BOOT_LOAD_PIN & 0x1F].reg = PORT_PINCFG_INEN | PORT_PINCFG_PULLEN;
	boot_port->OUTSET.reg = GPIO_BOOT_PIN_MASK;
	/* Read the BOOT_LOAD_PIN status */
	boot_en = (boot_port->IN.reg) & GPIO_BOOT_PIN_MASK;

	/* Check the bootloader enable condition */
	if (!boot_en) {
		/* Stay in bootloader */
		return;
	}

	/* Rebase the Stack Pointer */
	__set_MSP(*(uint32_t *) APP_START_ADDRESS);

	/* Rebase the vector table base address */
	SCB->VTOR = ((uint32_t) APP_START_ADDRESS & SCB_VTOR_TBLOFF_Msk);

	/* Jump to application Reset Handler in the application */
	asm("bx %0"::"r"(app_start_address));
}


#if DEBUG_ENABLE
#	define DEBUG_PIN_HIGH 	port_pin_set_output_level(BOOT_LED, 1)
#	define DEBUG_PIN_LOW 	port_pin_set_output_level(BOOT_LED, 0)
#else
#	define DEBUG_PIN_HIGH 	do{}while(0)
#	define DEBUG_PIN_LOW 	do{}while(0)
#endif


#define  PA04B_AC_AIN0    {PIN_PA04B_AC_AIN0,MUX_PA04B_AC_AIN0,0}
#define  PA05B_AC_AIN1    {PIN_PA05B_AC_AIN1,MUX_PA05B_AC_AIN1,1}
#define  PA06B_AC_AIN2    {PIN_PA06B_AC_AIN2,MUX_PA06B_AC_AIN2,2}
#define  PA07B_AC_AIN3    {PIN_PA07B_AC_AIN3,MUX_PA07B_AC_AIN3,3}
#define  PA02B_AC_AIN4    {PIN_PA02B_AC_AIN4,MUX_PA02B_AC_AIN4,4}
#define  PA03B_AC_AIN5    {PIN_PA03B_AC_AIN5,MUX_PA03B_AC_AIN5,5}
#define  PB05B_AC_AIN6    {PIN_PB05B_AC_AIN6,MUX_PB05B_AC_AIN6,6}
#define  PB06B_AC_AIN7    {PIN_PB06B_AC_AIN7,MUX_PB06B_AC_AIN7,7}
#define  PA12H_AC_CMP0    {PIN_PA12H_AC_CMP0,MUX_PA12H_AC_CMP0,0}
#define  PA18H_AC_CMP0    {PIN_PA18H_AC_CMP0,MUX_PA18H_AC_CMP0,0}
#define  PA13H_AC_CMP1    {PIN_PA13H_AC_CMP1,MUX_PA13H_AC_CMP1,1}
#define  PA19H_AC_CMP1    {PIN_PA19H_AC_CMP1,MUX_PA19H_AC_CMP1,1}
#define  PA00H_AC_CMP2    {PIN_PA00H_AC_CMP2,MUX_PA00H_AC_CMP2,2}
#define  PA24H_AC_CMP2    {PIN_PA24H_AC_CMP2,MUX_PA24H_AC_CMP2,2}
#define  PB30H_AC_CMP2    {PIN_PB30H_AC_CMP2,MUX_PB30H_AC_CMP2,2}
#define  PA01H_AC_CMP3    {PIN_PA01H_AC_CMP3,MUX_PA01H_AC_CMP3,3}
#define  PA25H_AC_CMP3    {PIN_PA25H_AC_CMP3,MUX_PA25H_AC_CMP3,3}
#define  PB31H_AC_CMP3    {PIN_PB31H_AC_CMP3,MUX_PB31H_AC_CMP3,3}
#define  PA02B_ADC0_AIN0    {PIN_PA02B_ADC0_AIN0,MUX_PA02B_ADC0_AIN0,0}
#define  PA03B_ADC0_AIN1    {PIN_PA03B_ADC0_AIN1,MUX_PA03B_ADC0_AIN1,1}
#define  PA10B_ADC0_AIN10    {PIN_PA10B_ADC0_AIN10,MUX_PA10B_ADC0_AIN10,1}
#define  PA11B_ADC0_AIN11    {PIN_PA11B_ADC0_AIN11,MUX_PA11B_ADC0_AIN11,1}
#define  PB02B_ADC0_AIN10    {PIN_PB02B_ADC0_AIN10,MUX_PB02B_ADC0_AIN10,1}
#define  PB03B_ADC0_AIN11    {PIN_PB03B_ADC0_AIN11,MUX_PB03B_ADC0_AIN11,1}
#define  PA10B_ADC0_AIN10    {PIN_PA10B_ADC0_AIN10,MUX_PA10B_ADC0_AIN10,10}
#define  PB02B_ADC0_AIN10    {PIN_PB02B_ADC0_AIN10,MUX_PB02B_ADC0_AIN10,10}
#define  PA11B_ADC0_AIN11    {PIN_PA11B_ADC0_AIN11,MUX_PA11B_ADC0_AIN11,11}
#define  PB03B_ADC0_AIN11    {PIN_PB03B_ADC0_AIN11,MUX_PB03B_ADC0_AIN11,11}
#define  PB08B_ADC0_AIN2    {PIN_PB08B_ADC0_AIN2,MUX_PB08B_ADC0_AIN2,2}
#define  PB09B_ADC0_AIN3    {PIN_PB09B_ADC0_AIN3,MUX_PB09B_ADC0_AIN3,3}
#define  PA04B_ADC0_AIN4    {PIN_PA04B_ADC0_AIN4,MUX_PA04B_ADC0_AIN4,4}
#define  PA05B_ADC0_AIN5    {PIN_PA05B_ADC0_AIN5,MUX_PA05B_ADC0_AIN5,5}
#define  PA06B_ADC0_AIN6    {PIN_PA06B_ADC0_AIN6,MUX_PA06B_ADC0_AIN6,6}
#define  PA07B_ADC0_AIN7    {PIN_PA07B_ADC0_AIN7,MUX_PA07B_ADC0_AIN7,7}
#define  PA08B_ADC0_AIN8    {PIN_PA08B_ADC0_AIN8,MUX_PA08B_ADC0_AIN8,8}
#define  PB00B_ADC0_AIN8    {PIN_PB00B_ADC0_AIN8,MUX_PB00B_ADC0_AIN8,8}
#define  PA09B_ADC0_AIN9    {PIN_PA09B_ADC0_AIN9,MUX_PA09B_ADC0_AIN9,9}
#define  PB01B_ADC0_AIN9    {PIN_PB01B_ADC0_AIN9,MUX_PB01B_ADC0_AIN9,9}
#define  PA03B_ADC0_VREFP    {PIN_PA03B_ADC0_VREFP,MUX_PA03B_ADC0_VREFP,0}
#define  PB00B_ADC1_AIN0    {PIN_PB00B_ADC1_AIN0,MUX_PB00B_ADC1_AIN0,0}
#define  PA08B_ADC1_AIN10    {PIN_PA08B_ADC1_AIN10,MUX_PA08B_ADC1_AIN10,1}
#define  PA09B_ADC1_AIN11    {PIN_PA09B_ADC1_AIN11,MUX_PA09B_ADC1_AIN11,1}
#define  PB01B_ADC1_AIN1    {PIN_PB01B_ADC1_AIN1,MUX_PB01B_ADC1_AIN1,1}
#define  PA08B_ADC1_AIN10    {PIN_PA08B_ADC1_AIN10,MUX_PA08B_ADC1_AIN10,10}
#define  PA09B_ADC1_AIN11    {PIN_PA09B_ADC1_AIN11,MUX_PA09B_ADC1_AIN11,11}
#define  PB02B_ADC1_AIN2    {PIN_PB02B_ADC1_AIN2,MUX_PB02B_ADC1_AIN2,2}
#define  PB03B_ADC1_AIN3    {PIN_PB03B_ADC1_AIN3,MUX_PB03B_ADC1_AIN3,3}
#define  PB08B_ADC1_AIN4    {PIN_PB08B_ADC1_AIN4,MUX_PB08B_ADC1_AIN4,4}
#define  PB09B_ADC1_AIN5    {PIN_PB09B_ADC1_AIN5,MUX_PB09B_ADC1_AIN5,5}
#define  PB04B_ADC1_AIN6    {PIN_PB04B_ADC1_AIN6,MUX_PB04B_ADC1_AIN6,6}
#define  PB05B_ADC1_AIN7    {PIN_PB05B_ADC1_AIN7,MUX_PB05B_ADC1_AIN7,7}
#define  PB06B_ADC1_AIN8    {PIN_PB06B_ADC1_AIN8,MUX_PB06B_ADC1_AIN8,8}
#define  PB07B_ADC1_AIN9    {PIN_PB07B_ADC1_AIN9,MUX_PB07B_ADC1_AIN9,9}
#define  PA25G_CAN0_RX    {PIN_PA25G_CAN0_RX,MUX_PA25G_CAN0_RX,0}
#define  PB23G_CAN0_RX    {PIN_PB23G_CAN0_RX,MUX_PB23G_CAN0_RX,0}
#define  PA24G_CAN0_TX    {PIN_PA24G_CAN0_TX,MUX_PA24G_CAN0_TX,0}
#define  PB22G_CAN0_TX    {PIN_PB22G_CAN0_TX,MUX_PB22G_CAN0_TX,0}
#define  PB11G_CAN1_RX    {PIN_PB11G_CAN1_RX,MUX_PB11G_CAN1_RX,0}
#define  PB15G_CAN1_RX    {PIN_PB15G_CAN1_RX,MUX_PB15G_CAN1_RX,0}
#define  PB10G_CAN1_TX    {PIN_PB10G_CAN1_TX,MUX_PB10G_CAN1_TX,0}
#define  PB14G_CAN1_TX    {PIN_PB14G_CAN1_TX,MUX_PB14G_CAN1_TX,0}
#define  PA04I_CCL_IN0    {PIN_PA04I_CCL_IN0,MUX_PA04I_CCL_IN0,0}
#define  PA16I_CCL_IN0    {PIN_PA16I_CCL_IN0,MUX_PA16I_CCL_IN0,0}
#define  PB22I_CCL_IN0    {PIN_PB22I_CCL_IN0,MUX_PB22I_CCL_IN0,0}
#define  PA05I_CCL_IN1    {PIN_PA05I_CCL_IN1,MUX_PA05I_CCL_IN1,1}
#define  PA17I_CCL_IN1    {PIN_PA17I_CCL_IN1,MUX_PA17I_CCL_IN1,1}
#define  PB00I_CCL_IN1    {PIN_PB00I_CCL_IN1,MUX_PB00I_CCL_IN1,1}
#define  PB15I_CCL_IN10    {PIN_PB15I_CCL_IN10,MUX_PB15I_CCL_IN10,1}
#define  PB16I_CCL_IN11    {PIN_PB16I_CCL_IN11,MUX_PB16I_CCL_IN11,1}
#define  PB15I_CCL_IN10    {PIN_PB15I_CCL_IN10,MUX_PB15I_CCL_IN10,10}
#define  PB16I_CCL_IN11    {PIN_PB16I_CCL_IN11,MUX_PB16I_CCL_IN11,11}
#define  PA06I_CCL_IN2    {PIN_PA06I_CCL_IN2,MUX_PA06I_CCL_IN2,2}
#define  PA18I_CCL_IN2    {PIN_PA18I_CCL_IN2,MUX_PA18I_CCL_IN2,2}
#define  PB01I_CCL_IN2    {PIN_PB01I_CCL_IN2,MUX_PB01I_CCL_IN2,2}
#define  PA08I_CCL_IN3    {PIN_PA08I_CCL_IN3,MUX_PA08I_CCL_IN3,3}
#define  PA30I_CCL_IN3    {PIN_PA30I_CCL_IN3,MUX_PA30I_CCL_IN3,3}
#define  PA09I_CCL_IN4    {PIN_PA09I_CCL_IN4,MUX_PA09I_CCL_IN4,4}
#define  PA10I_CCL_IN5    {PIN_PA10I_CCL_IN5,MUX_PA10I_CCL_IN5,5}
#define  PB10I_CCL_IN5    {PIN_PB10I_CCL_IN5,MUX_PB10I_CCL_IN5,5}
#define  PA22I_CCL_IN6    {PIN_PA22I_CCL_IN6,MUX_PA22I_CCL_IN6,6}
#define  PB06I_CCL_IN6    {PIN_PB06I_CCL_IN6,MUX_PB06I_CCL_IN6,6}
#define  PA23I_CCL_IN7    {PIN_PA23I_CCL_IN7,MUX_PA23I_CCL_IN7,7}
#define  PB07I_CCL_IN7    {PIN_PB07I_CCL_IN7,MUX_PB07I_CCL_IN7,7}
#define  PA24I_CCL_IN8    {PIN_PA24I_CCL_IN8,MUX_PA24I_CCL_IN8,8}
#define  PB08I_CCL_IN8    {PIN_PB08I_CCL_IN8,MUX_PB08I_CCL_IN8,8}
#define  PB14I_CCL_IN9    {PIN_PB14I_CCL_IN9,MUX_PB14I_CCL_IN9,9}
#define  PA07I_CCL_OUT0    {PIN_PA07I_CCL_OUT0,MUX_PA07I_CCL_OUT0,0}
#define  PA19I_CCL_OUT0    {PIN_PA19I_CCL_OUT0,MUX_PA19I_CCL_OUT0,0}
#define  PB02I_CCL_OUT0    {PIN_PB02I_CCL_OUT0,MUX_PB02I_CCL_OUT0,0}
#define  PB23I_CCL_OUT0    {PIN_PB23I_CCL_OUT0,MUX_PB23I_CCL_OUT0,0}
#define  PA11I_CCL_OUT1    {PIN_PA11I_CCL_OUT1,MUX_PA11I_CCL_OUT1,1}
#define  PA31I_CCL_OUT1    {PIN_PA31I_CCL_OUT1,MUX_PA31I_CCL_OUT1,1}
#define  PB11I_CCL_OUT1    {PIN_PB11I_CCL_OUT1,MUX_PB11I_CCL_OUT1,1}
#define  PA25I_CCL_OUT2    {PIN_PA25I_CCL_OUT2,MUX_PA25I_CCL_OUT2,2}
#define  PB09I_CCL_OUT2    {PIN_PB09I_CCL_OUT2,MUX_PB09I_CCL_OUT2,2}
#define  PB17I_CCL_OUT3    {PIN_PB17I_CCL_OUT3,MUX_PB17I_CCL_OUT3,3}
#define  PA02B_DAC_VOUT    {PIN_PA02B_DAC_VOUT,MUX_PA02B_DAC_VOUT,0}
#define  PA03B_DAC_VREFP    {PIN_PA03B_DAC_VREFP,MUX_PA03B_DAC_VREFP,0}
#define  PA00A_EIC_EXTINT0    {PIN_PA00A_EIC_EXTINT0,MUX_PA00A_EIC_EXTINT0,0}
#define  PA16A_EIC_EXTINT0    {PIN_PA16A_EIC_EXTINT0,MUX_PA16A_EIC_EXTINT0,0}
#define  PB00A_EIC_EXTINT0    {PIN_PB00A_EIC_EXTINT0,MUX_PB00A_EIC_EXTINT0,0}
#define  PB16A_EIC_EXTINT0    {PIN_PB16A_EIC_EXTINT0,MUX_PB16A_EIC_EXTINT0,0}
#define  PA01A_EIC_EXTINT1    {PIN_PA01A_EIC_EXTINT1,MUX_PA01A_EIC_EXTINT1,1}
#define  PA10A_EIC_EXTINT10    {PIN_PA10A_EIC_EXTINT10,MUX_PA10A_EIC_EXTINT10,1}
#define  PA11A_EIC_EXTINT11    {PIN_PA11A_EIC_EXTINT11,MUX_PA11A_EIC_EXTINT11,1}
#define  PA12A_EIC_EXTINT12    {PIN_PA12A_EIC_EXTINT12,MUX_PA12A_EIC_EXTINT12,1}
#define  PA13A_EIC_EXTINT13    {PIN_PA13A_EIC_EXTINT13,MUX_PA13A_EIC_EXTINT13,1}
#define  PA14A_EIC_EXTINT14    {PIN_PA14A_EIC_EXTINT14,MUX_PA14A_EIC_EXTINT14,1}
#define  PA15A_EIC_EXTINT15    {PIN_PA15A_EIC_EXTINT15,MUX_PA15A_EIC_EXTINT15,1}
#define  PA17A_EIC_EXTINT1    {PIN_PA17A_EIC_EXTINT1,MUX_PA17A_EIC_EXTINT1,1}
#define  PA24A_EIC_EXTINT12    {PIN_PA24A_EIC_EXTINT12,MUX_PA24A_EIC_EXTINT12,1}
#define  PA25A_EIC_EXTINT13    {PIN_PA25A_EIC_EXTINT13,MUX_PA25A_EIC_EXTINT13,1}
#define  PA27A_EIC_EXTINT15    {PIN_PA27A_EIC_EXTINT15,MUX_PA27A_EIC_EXTINT15,1}
#define  PA30A_EIC_EXTINT10    {PIN_PA30A_EIC_EXTINT10,MUX_PA30A_EIC_EXTINT10,1}
#define  PA31A_EIC_EXTINT11    {PIN_PA31A_EIC_EXTINT11,MUX_PA31A_EIC_EXTINT11,1}
#define  PB01A_EIC_EXTINT1    {PIN_PB01A_EIC_EXTINT1,MUX_PB01A_EIC_EXTINT1,1}
#define  PB10A_EIC_EXTINT10    {PIN_PB10A_EIC_EXTINT10,MUX_PB10A_EIC_EXTINT10,1}
#define  PB11A_EIC_EXTINT11    {PIN_PB11A_EIC_EXTINT11,MUX_PB11A_EIC_EXTINT11,1}
#define  PB12A_EIC_EXTINT12    {PIN_PB12A_EIC_EXTINT12,MUX_PB12A_EIC_EXTINT12,1}
#define  PB13A_EIC_EXTINT13    {PIN_PB13A_EIC_EXTINT13,MUX_PB13A_EIC_EXTINT13,1}
#define  PB14A_EIC_EXTINT14    {PIN_PB14A_EIC_EXTINT14,MUX_PB14A_EIC_EXTINT14,1}
#define  PB15A_EIC_EXTINT15    {PIN_PB15A_EIC_EXTINT15,MUX_PB15A_EIC_EXTINT15,1}
#define  PB17A_EIC_EXTINT1    {PIN_PB17A_EIC_EXTINT1,MUX_PB17A_EIC_EXTINT1,1}
#define  PB30A_EIC_EXTINT14    {PIN_PB30A_EIC_EXTINT14,MUX_PB30A_EIC_EXTINT14,1}
#define  PB31A_EIC_EXTINT15    {PIN_PB31A_EIC_EXTINT15,MUX_PB31A_EIC_EXTINT15,1}
#define  PA10A_EIC_EXTINT10    {PIN_PA10A_EIC_EXTINT10,MUX_PA10A_EIC_EXTINT10,10}
#define  PA30A_EIC_EXTINT10    {PIN_PA30A_EIC_EXTINT10,MUX_PA30A_EIC_EXTINT10,10}
#define  PB10A_EIC_EXTINT10    {PIN_PB10A_EIC_EXTINT10,MUX_PB10A_EIC_EXTINT10,10}
#define  PA11A_EIC_EXTINT11    {PIN_PA11A_EIC_EXTINT11,MUX_PA11A_EIC_EXTINT11,11}
#define  PA31A_EIC_EXTINT11    {PIN_PA31A_EIC_EXTINT11,MUX_PA31A_EIC_EXTINT11,11}
#define  PB11A_EIC_EXTINT11    {PIN_PB11A_EIC_EXTINT11,MUX_PB11A_EIC_EXTINT11,11}
#define  PA12A_EIC_EXTINT12    {PIN_PA12A_EIC_EXTINT12,MUX_PA12A_EIC_EXTINT12,12}
#define  PA24A_EIC_EXTINT12    {PIN_PA24A_EIC_EXTINT12,MUX_PA24A_EIC_EXTINT12,12}
#define  PB12A_EIC_EXTINT12    {PIN_PB12A_EIC_EXTINT12,MUX_PB12A_EIC_EXTINT12,12}
#define  PA13A_EIC_EXTINT13    {PIN_PA13A_EIC_EXTINT13,MUX_PA13A_EIC_EXTINT13,13}
#define  PA25A_EIC_EXTINT13    {PIN_PA25A_EIC_EXTINT13,MUX_PA25A_EIC_EXTINT13,13}
#define  PB13A_EIC_EXTINT13    {PIN_PB13A_EIC_EXTINT13,MUX_PB13A_EIC_EXTINT13,13}
#define  PA14A_EIC_EXTINT14    {PIN_PA14A_EIC_EXTINT14,MUX_PA14A_EIC_EXTINT14,14}
#define  PB14A_EIC_EXTINT14    {PIN_PB14A_EIC_EXTINT14,MUX_PB14A_EIC_EXTINT14,14}
#define  PB30A_EIC_EXTINT14    {PIN_PB30A_EIC_EXTINT14,MUX_PB30A_EIC_EXTINT14,14}
#define  PA15A_EIC_EXTINT15    {PIN_PA15A_EIC_EXTINT15,MUX_PA15A_EIC_EXTINT15,15}
#define  PA27A_EIC_EXTINT15    {PIN_PA27A_EIC_EXTINT15,MUX_PA27A_EIC_EXTINT15,15}
#define  PB15A_EIC_EXTINT15    {PIN_PB15A_EIC_EXTINT15,MUX_PB15A_EIC_EXTINT15,15}
#define  PB31A_EIC_EXTINT15    {PIN_PB31A_EIC_EXTINT15,MUX_PB31A_EIC_EXTINT15,15}
#define  PA02A_EIC_EXTINT2    {PIN_PA02A_EIC_EXTINT2,MUX_PA02A_EIC_EXTINT2,2}
#define  PA18A_EIC_EXTINT2    {PIN_PA18A_EIC_EXTINT2,MUX_PA18A_EIC_EXTINT2,2}
#define  PB02A_EIC_EXTINT2    {PIN_PB02A_EIC_EXTINT2,MUX_PB02A_EIC_EXTINT2,2}
#define  PA03A_EIC_EXTINT3    {PIN_PA03A_EIC_EXTINT3,MUX_PA03A_EIC_EXTINT3,3}
#define  PA19A_EIC_EXTINT3    {PIN_PA19A_EIC_EXTINT3,MUX_PA19A_EIC_EXTINT3,3}
#define  PB03A_EIC_EXTINT3    {PIN_PB03A_EIC_EXTINT3,MUX_PB03A_EIC_EXTINT3,3}
#define  PA04A_EIC_EXTINT4    {PIN_PA04A_EIC_EXTINT4,MUX_PA04A_EIC_EXTINT4,4}
#define  PA20A_EIC_EXTINT4    {PIN_PA20A_EIC_EXTINT4,MUX_PA20A_EIC_EXTINT4,4}
#define  PB04A_EIC_EXTINT4    {PIN_PB04A_EIC_EXTINT4,MUX_PB04A_EIC_EXTINT4,4}
#define  PA05A_EIC_EXTINT5    {PIN_PA05A_EIC_EXTINT5,MUX_PA05A_EIC_EXTINT5,5}
#define  PA21A_EIC_EXTINT5    {PIN_PA21A_EIC_EXTINT5,MUX_PA21A_EIC_EXTINT5,5}
#define  PB05A_EIC_EXTINT5    {PIN_PB05A_EIC_EXTINT5,MUX_PB05A_EIC_EXTINT5,5}
#define  PA06A_EIC_EXTINT6    {PIN_PA06A_EIC_EXTINT6,MUX_PA06A_EIC_EXTINT6,6}
#define  PA22A_EIC_EXTINT6    {PIN_PA22A_EIC_EXTINT6,MUX_PA22A_EIC_EXTINT6,6}
#define  PB06A_EIC_EXTINT6    {PIN_PB06A_EIC_EXTINT6,MUX_PB06A_EIC_EXTINT6,6}
#define  PB22A_EIC_EXTINT6    {PIN_PB22A_EIC_EXTINT6,MUX_PB22A_EIC_EXTINT6,6}
#define  PA07A_EIC_EXTINT7    {PIN_PA07A_EIC_EXTINT7,MUX_PA07A_EIC_EXTINT7,7}
#define  PA23A_EIC_EXTINT7    {PIN_PA23A_EIC_EXTINT7,MUX_PA23A_EIC_EXTINT7,7}
#define  PB07A_EIC_EXTINT7    {PIN_PB07A_EIC_EXTINT7,MUX_PB07A_EIC_EXTINT7,7}
#define  PB23A_EIC_EXTINT7    {PIN_PB23A_EIC_EXTINT7,MUX_PB23A_EIC_EXTINT7,7}
#define  PA28A_EIC_EXTINT8    {PIN_PA28A_EIC_EXTINT8,MUX_PA28A_EIC_EXTINT8,8}
#define  PB08A_EIC_EXTINT8    {PIN_PB08A_EIC_EXTINT8,MUX_PB08A_EIC_EXTINT8,8}
#define  PA09A_EIC_EXTINT9    {PIN_PA09A_EIC_EXTINT9,MUX_PA09A_EIC_EXTINT9,9}
#define  PB09A_EIC_EXTINT9    {PIN_PB09A_EIC_EXTINT9,MUX_PB09A_EIC_EXTINT9,9}
#define  PA08A_EIC_NMI    {PIN_PA08A_EIC_NMI,MUX_PA08A_EIC_NMI,0}
#define  PA14H_GCLK_IO0    {PIN_PA14H_GCLK_IO0,MUX_PA14H_GCLK_IO0,0}
#define  PA27H_GCLK_IO0    {PIN_PA27H_GCLK_IO0,MUX_PA27H_GCLK_IO0,0}
#define  PA28H_GCLK_IO0    {PIN_PA28H_GCLK_IO0,MUX_PA28H_GCLK_IO0,0}
#define  PA30H_GCLK_IO0    {PIN_PA30H_GCLK_IO0,MUX_PA30H_GCLK_IO0,0}
#define  PB14H_GCLK_IO0    {PIN_PB14H_GCLK_IO0,MUX_PB14H_GCLK_IO0,0}
#define  PB22H_GCLK_IO0    {PIN_PB22H_GCLK_IO0,MUX_PB22H_GCLK_IO0,0}
#define  PA15H_GCLK_IO1    {PIN_PA15H_GCLK_IO1,MUX_PA15H_GCLK_IO1,1}
#define  PB15H_GCLK_IO1    {PIN_PB15H_GCLK_IO1,MUX_PB15H_GCLK_IO1,1}
#define  PB23H_GCLK_IO1    {PIN_PB23H_GCLK_IO1,MUX_PB23H_GCLK_IO1,1}
#define  PA16H_GCLK_IO2    {PIN_PA16H_GCLK_IO2,MUX_PA16H_GCLK_IO2,2}
#define  PB16H_GCLK_IO2    {PIN_PB16H_GCLK_IO2,MUX_PB16H_GCLK_IO2,2}
#define  PA17H_GCLK_IO3    {PIN_PA17H_GCLK_IO3,MUX_PA17H_GCLK_IO3,3}
#define  PB17H_GCLK_IO3    {PIN_PB17H_GCLK_IO3,MUX_PB17H_GCLK_IO3,3}
#define  PA10H_GCLK_IO4    {PIN_PA10H_GCLK_IO4,MUX_PA10H_GCLK_IO4,4}
#define  PA20H_GCLK_IO4    {PIN_PA20H_GCLK_IO4,MUX_PA20H_GCLK_IO4,4}
#define  PB10H_GCLK_IO4    {PIN_PB10H_GCLK_IO4,MUX_PB10H_GCLK_IO4,4}
#define  PA11H_GCLK_IO5    {PIN_PA11H_GCLK_IO5,MUX_PA11H_GCLK_IO5,5}
#define  PA21H_GCLK_IO5    {PIN_PA21H_GCLK_IO5,MUX_PA21H_GCLK_IO5,5}
#define  PB11H_GCLK_IO5    {PIN_PB11H_GCLK_IO5,MUX_PB11H_GCLK_IO5,5}
#define  PA22H_GCLK_IO6    {PIN_PA22H_GCLK_IO6,MUX_PA22H_GCLK_IO6,6}
#define  PB12H_GCLK_IO6    {PIN_PB12H_GCLK_IO6,MUX_PB12H_GCLK_IO6,6}
#define  PA23H_GCLK_IO7    {PIN_PA23H_GCLK_IO7,MUX_PA23H_GCLK_IO7,7}
#define  PB13H_GCLK_IO7    {PIN_PB13H_GCLK_IO7,MUX_PB13H_GCLK_IO7,7}
#define  PA00A_RSTC_EXTWAKE0    {PIN_PA00A_RSTC_EXTWAKE0,MUX_PA00A_RSTC_EXTWAKE0,0}
#define  PA01A_RSTC_EXTWAKE1    {PIN_PA01A_RSTC_EXTWAKE1,MUX_PA01A_RSTC_EXTWAKE1,1}
#define  PA10A_RSTC_EXTWAKE10    {PIN_PA10A_RSTC_EXTWAKE10,MUX_PA10A_RSTC_EXTWAKE10,1}
#define  PA11A_RSTC_EXTWAKE11    {PIN_PA11A_RSTC_EXTWAKE11,MUX_PA11A_RSTC_EXTWAKE11,1}
#define  PA12A_RSTC_EXTWAKE12    {PIN_PA12A_RSTC_EXTWAKE12,MUX_PA12A_RSTC_EXTWAKE12,1}
#define  PA13A_RSTC_EXTWAKE13    {PIN_PA13A_RSTC_EXTWAKE13,MUX_PA13A_RSTC_EXTWAKE13,1}
#define  PA14A_RSTC_EXTWAKE14    {PIN_PA14A_RSTC_EXTWAKE14,MUX_PA14A_RSTC_EXTWAKE14,1}
#define  PA15A_RSTC_EXTWAKE15    {PIN_PA15A_RSTC_EXTWAKE15,MUX_PA15A_RSTC_EXTWAKE15,1}
#define  PA10A_RSTC_EXTWAKE10    {PIN_PA10A_RSTC_EXTWAKE10,MUX_PA10A_RSTC_EXTWAKE10,10}
#define  PA11A_RSTC_EXTWAKE11    {PIN_PA11A_RSTC_EXTWAKE11,MUX_PA11A_RSTC_EXTWAKE11,11}
#define  PA12A_RSTC_EXTWAKE12    {PIN_PA12A_RSTC_EXTWAKE12,MUX_PA12A_RSTC_EXTWAKE12,12}
#define  PA13A_RSTC_EXTWAKE13    {PIN_PA13A_RSTC_EXTWAKE13,MUX_PA13A_RSTC_EXTWAKE13,13}
#define  PA14A_RSTC_EXTWAKE14    {PIN_PA14A_RSTC_EXTWAKE14,MUX_PA14A_RSTC_EXTWAKE14,14}
#define  PA15A_RSTC_EXTWAKE15    {PIN_PA15A_RSTC_EXTWAKE15,MUX_PA15A_RSTC_EXTWAKE15,15}
#define  PA02A_RSTC_EXTWAKE2    {PIN_PA02A_RSTC_EXTWAKE2,MUX_PA02A_RSTC_EXTWAKE2,2}
#define  PA03A_RSTC_EXTWAKE3    {PIN_PA03A_RSTC_EXTWAKE3,MUX_PA03A_RSTC_EXTWAKE3,3}
#define  PA04A_RSTC_EXTWAKE4    {PIN_PA04A_RSTC_EXTWAKE4,MUX_PA04A_RSTC_EXTWAKE4,4}
#define  PA05A_RSTC_EXTWAKE5    {PIN_PA05A_RSTC_EXTWAKE5,MUX_PA05A_RSTC_EXTWAKE5,5}
#define  PA06A_RSTC_EXTWAKE6    {PIN_PA06A_RSTC_EXTWAKE6,MUX_PA06A_RSTC_EXTWAKE6,6}
#define  PA07A_RSTC_EXTWAKE7    {PIN_PA07A_RSTC_EXTWAKE7,MUX_PA07A_RSTC_EXTWAKE7,7}
#define  PA08A_RSTC_EXTWAKE8    {PIN_PA08A_RSTC_EXTWAKE8,MUX_PA08A_RSTC_EXTWAKE8,8}
#define  PA09A_RSTC_EXTWAKE9    {PIN_PA09A_RSTC_EXTWAKE9,MUX_PA09A_RSTC_EXTWAKE9,9}
#define  PA06B_SDADC_INN0    {PIN_PA06B_SDADC_INN0,MUX_PA06B_SDADC_INN0,0}
#define  PB08B_SDADC_INN1    {PIN_PB08B_SDADC_INN1,MUX_PB08B_SDADC_INN1,1}
#define  PB06B_SDADC_INN2    {PIN_PB06B_SDADC_INN2,MUX_PB06B_SDADC_INN2,2}
#define  PA07B_SDADC_INP0    {PIN_PA07B_SDADC_INP0,MUX_PA07B_SDADC_INP0,0}
#define  PB09B_SDADC_INP1    {PIN_PB09B_SDADC_INP1,MUX_PB09B_SDADC_INP1,1}
#define  PB07B_SDADC_INP2    {PIN_PB07B_SDADC_INP2,MUX_PB07B_SDADC_INP2,2}
#define  PA04B_SDADC_VREFP    {PIN_PA04B_SDADC_VREFP,MUX_PA04B_SDADC_VREFP,0}
#define  PA04D_SERCOM0_PAD0    {PIN_PA04D_SERCOM0_PAD0,MUX_PA04D_SERCOM0_PAD0,0}
#define  PA08C_SERCOM0_PAD0    {PIN_PA08C_SERCOM0_PAD0,MUX_PA08C_SERCOM0_PAD0,0}
#define  PA05D_SERCOM0_PAD1    {PIN_PA05D_SERCOM0_PAD1,MUX_PA05D_SERCOM0_PAD1,1}
#define  PA09C_SERCOM0_PAD1    {PIN_PA09C_SERCOM0_PAD1,MUX_PA09C_SERCOM0_PAD1,1}
#define  PA06D_SERCOM0_PAD2    {PIN_PA06D_SERCOM0_PAD2,MUX_PA06D_SERCOM0_PAD2,2}
#define  PA10C_SERCOM0_PAD2    {PIN_PA10C_SERCOM0_PAD2,MUX_PA10C_SERCOM0_PAD2,2}
#define  PA07D_SERCOM0_PAD3    {PIN_PA07D_SERCOM0_PAD3,MUX_PA07D_SERCOM0_PAD3,3}
#define  PA11C_SERCOM0_PAD3    {PIN_PA11C_SERCOM0_PAD3,MUX_PA11C_SERCOM0_PAD3,3}
#define  PA00D_SERCOM1_PAD0    {PIN_PA00D_SERCOM1_PAD0,MUX_PA00D_SERCOM1_PAD0,0}
#define  PA16C_SERCOM1_PAD0    {PIN_PA16C_SERCOM1_PAD0,MUX_PA16C_SERCOM1_PAD0,0}
#define  PA01D_SERCOM1_PAD1    {PIN_PA01D_SERCOM1_PAD1,MUX_PA01D_SERCOM1_PAD1,1}
#define  PA17C_SERCOM1_PAD1    {PIN_PA17C_SERCOM1_PAD1,MUX_PA17C_SERCOM1_PAD1,1}
#define  PA18C_SERCOM1_PAD2    {PIN_PA18C_SERCOM1_PAD2,MUX_PA18C_SERCOM1_PAD2,2}
#define  PA30D_SERCOM1_PAD2    {PIN_PA30D_SERCOM1_PAD2,MUX_PA30D_SERCOM1_PAD2,2}
#define  PA19C_SERCOM1_PAD3    {PIN_PA19C_SERCOM1_PAD3,MUX_PA19C_SERCOM1_PAD3,3}
#define  PA31D_SERCOM1_PAD3    {PIN_PA31D_SERCOM1_PAD3,MUX_PA31D_SERCOM1_PAD3,3}
#define  PA08D_SERCOM2_PAD0    {PIN_PA08D_SERCOM2_PAD0,MUX_PA08D_SERCOM2_PAD0,0}
#define  PA12C_SERCOM2_PAD0    {PIN_PA12C_SERCOM2_PAD0,MUX_PA12C_SERCOM2_PAD0,0}
#define  PA09D_SERCOM2_PAD1    {PIN_PA09D_SERCOM2_PAD1,MUX_PA09D_SERCOM2_PAD1,1}
#define  PA13C_SERCOM2_PAD1    {PIN_PA13C_SERCOM2_PAD1,MUX_PA13C_SERCOM2_PAD1,1}
#define  PA10D_SERCOM2_PAD2    {PIN_PA10D_SERCOM2_PAD2,MUX_PA10D_SERCOM2_PAD2,2}
#define  PA14C_SERCOM2_PAD2    {PIN_PA14C_SERCOM2_PAD2,MUX_PA14C_SERCOM2_PAD2,2}
#define  PA11D_SERCOM2_PAD3    {PIN_PA11D_SERCOM2_PAD3,MUX_PA11D_SERCOM2_PAD3,3}
#define  PA15C_SERCOM2_PAD3    {PIN_PA15C_SERCOM2_PAD3,MUX_PA15C_SERCOM2_PAD3,3}
#define  PA16D_SERCOM3_PAD0    {PIN_PA16D_SERCOM3_PAD0,MUX_PA16D_SERCOM3_PAD0,0}
#define  PA22C_SERCOM3_PAD0    {PIN_PA22C_SERCOM3_PAD0,MUX_PA22C_SERCOM3_PAD0,0}
#define  PA17D_SERCOM3_PAD1    {PIN_PA17D_SERCOM3_PAD1,MUX_PA17D_SERCOM3_PAD1,1}
#define  PA23C_SERCOM3_PAD1    {PIN_PA23C_SERCOM3_PAD1,MUX_PA23C_SERCOM3_PAD1,1}
#define  PA18D_SERCOM3_PAD2    {PIN_PA18D_SERCOM3_PAD2,MUX_PA18D_SERCOM3_PAD2,2}
#define  PA20D_SERCOM3_PAD2    {PIN_PA20D_SERCOM3_PAD2,MUX_PA20D_SERCOM3_PAD2,2}
#define  PA24C_SERCOM3_PAD2    {PIN_PA24C_SERCOM3_PAD2,MUX_PA24C_SERCOM3_PAD2,2}
#define  PA19D_SERCOM3_PAD3    {PIN_PA19D_SERCOM3_PAD3,MUX_PA19D_SERCOM3_PAD3,3}
#define  PA21D_SERCOM3_PAD3    {PIN_PA21D_SERCOM3_PAD3,MUX_PA21D_SERCOM3_PAD3,3}
#define  PA25C_SERCOM3_PAD3    {PIN_PA25C_SERCOM3_PAD3,MUX_PA25C_SERCOM3_PAD3,3}
#define  PA12D_SERCOM4_PAD0    {PIN_PA12D_SERCOM4_PAD0,MUX_PA12D_SERCOM4_PAD0,0}
#define  PB08D_SERCOM4_PAD0    {PIN_PB08D_SERCOM4_PAD0,MUX_PB08D_SERCOM4_PAD0,0}
#define  PB12C_SERCOM4_PAD0    {PIN_PB12C_SERCOM4_PAD0,MUX_PB12C_SERCOM4_PAD0,0}
#define  PA13D_SERCOM4_PAD1    {PIN_PA13D_SERCOM4_PAD1,MUX_PA13D_SERCOM4_PAD1,1}
#define  PB09D_SERCOM4_PAD1    {PIN_PB09D_SERCOM4_PAD1,MUX_PB09D_SERCOM4_PAD1,1}
#define  PB13C_SERCOM4_PAD1    {PIN_PB13C_SERCOM4_PAD1,MUX_PB13C_SERCOM4_PAD1,1}
#define  PA14D_SERCOM4_PAD2    {PIN_PA14D_SERCOM4_PAD2,MUX_PA14D_SERCOM4_PAD2,2}
#define  PB10D_SERCOM4_PAD2    {PIN_PB10D_SERCOM4_PAD2,MUX_PB10D_SERCOM4_PAD2,2}
#define  PB14C_SERCOM4_PAD2    {PIN_PB14C_SERCOM4_PAD2,MUX_PB14C_SERCOM4_PAD2,2}
#define  PA15D_SERCOM4_PAD3    {PIN_PA15D_SERCOM4_PAD3,MUX_PA15D_SERCOM4_PAD3,3}
#define  PB11D_SERCOM4_PAD3    {PIN_PB11D_SERCOM4_PAD3,MUX_PB11D_SERCOM4_PAD3,3}
#define  PB15C_SERCOM4_PAD3    {PIN_PB15C_SERCOM4_PAD3,MUX_PB15C_SERCOM4_PAD3,3}
#define  PA22D_SERCOM5_PAD0    {PIN_PA22D_SERCOM5_PAD0,MUX_PA22D_SERCOM5_PAD0,0}
#define  PB02D_SERCOM5_PAD0    {PIN_PB02D_SERCOM5_PAD0,MUX_PB02D_SERCOM5_PAD0,0}
#define  PB16C_SERCOM5_PAD0    {PIN_PB16C_SERCOM5_PAD0,MUX_PB16C_SERCOM5_PAD0,0}
#define  PB30D_SERCOM5_PAD0    {PIN_PB30D_SERCOM5_PAD0,MUX_PB30D_SERCOM5_PAD0,0}
#define  PA23D_SERCOM5_PAD1    {PIN_PA23D_SERCOM5_PAD1,MUX_PA23D_SERCOM5_PAD1,1}
#define  PB03D_SERCOM5_PAD1    {PIN_PB03D_SERCOM5_PAD1,MUX_PB03D_SERCOM5_PAD1,1}
#define  PB17C_SERCOM5_PAD1    {PIN_PB17C_SERCOM5_PAD1,MUX_PB17C_SERCOM5_PAD1,1}
#define  PB31D_SERCOM5_PAD1    {PIN_PB31D_SERCOM5_PAD1,MUX_PB31D_SERCOM5_PAD1,1}
#define  PA20C_SERCOM5_PAD2    {PIN_PA20C_SERCOM5_PAD2,MUX_PA20C_SERCOM5_PAD2,2}
#define  PA24D_SERCOM5_PAD2    {PIN_PA24D_SERCOM5_PAD2,MUX_PA24D_SERCOM5_PAD2,2}
#define  PB00D_SERCOM5_PAD2    {PIN_PB00D_SERCOM5_PAD2,MUX_PB00D_SERCOM5_PAD2,2}
#define  PB22D_SERCOM5_PAD2    {PIN_PB22D_SERCOM5_PAD2,MUX_PB22D_SERCOM5_PAD2,2}
#define  PA21C_SERCOM5_PAD3    {PIN_PA21C_SERCOM5_PAD3,MUX_PA21C_SERCOM5_PAD3,3}
#define  PA25D_SERCOM5_PAD3    {PIN_PA25D_SERCOM5_PAD3,MUX_PA25D_SERCOM5_PAD3,3}
#define  PB01D_SERCOM5_PAD3    {PIN_PB01D_SERCOM5_PAD3,MUX_PB01D_SERCOM5_PAD3,3}
#define  PB23D_SERCOM5_PAD3    {PIN_PB23D_SERCOM5_PAD3,MUX_PB23D_SERCOM5_PAD3,3}
#define  PA27G_TAL_BRK    {PIN_PA27G_TAL_BRK,MUX_PA27G_TAL_BRK,0}
#define  PA22E_TC0_WO0    {PIN_PA22E_TC0_WO0,MUX_PA22E_TC0_WO0,0}
#define  PB08E_TC0_WO0    {PIN_PB08E_TC0_WO0,MUX_PB08E_TC0_WO0,0}
#define  PB12E_TC0_WO0    {PIN_PB12E_TC0_WO0,MUX_PB12E_TC0_WO0,0}
#define  PA23E_TC0_WO1    {PIN_PA23E_TC0_WO1,MUX_PA23E_TC0_WO1,1}
#define  PB09E_TC0_WO1    {PIN_PB09E_TC0_WO1,MUX_PB09E_TC0_WO1,1}
#define  PB13E_TC0_WO1    {PIN_PB13E_TC0_WO1,MUX_PB13E_TC0_WO1,1}
#define  PA24E_TC1_WO0    {PIN_PA24E_TC1_WO0,MUX_PA24E_TC1_WO0,0}
#define  PB10E_TC1_WO0    {PIN_PB10E_TC1_WO0,MUX_PB10E_TC1_WO0,0}
#define  PB14E_TC1_WO0    {PIN_PB14E_TC1_WO0,MUX_PB14E_TC1_WO0,0}
#define  PA25E_TC1_WO1    {PIN_PA25E_TC1_WO1,MUX_PA25E_TC1_WO1,1}
#define  PB11E_TC1_WO1    {PIN_PB11E_TC1_WO1,MUX_PB11E_TC1_WO1,1}
#define  PB15E_TC1_WO1    {PIN_PB15E_TC1_WO1,MUX_PB15E_TC1_WO1,1}
#define  PB02E_TC2_WO0    {PIN_PB02E_TC2_WO0,MUX_PB02E_TC2_WO0,0}
#define  PB16E_TC2_WO0    {PIN_PB16E_TC2_WO0,MUX_PB16E_TC2_WO0,0}
#define  PB03E_TC2_WO1    {PIN_PB03E_TC2_WO1,MUX_PB03E_TC2_WO1,1}
#define  PB17E_TC2_WO1    {PIN_PB17E_TC2_WO1,MUX_PB17E_TC2_WO1,1}
#define  PA20E_TC3_WO0    {PIN_PA20E_TC3_WO0,MUX_PA20E_TC3_WO0,0}
#define  PB00E_TC3_WO0    {PIN_PB00E_TC3_WO0,MUX_PB00E_TC3_WO0,0}
#define  PB22E_TC3_WO0    {PIN_PB22E_TC3_WO0,MUX_PB22E_TC3_WO0,0}
#define  PA21E_TC3_WO1    {PIN_PA21E_TC3_WO1,MUX_PA21E_TC3_WO1,1}
#define  PB01E_TC3_WO1    {PIN_PB01E_TC3_WO1,MUX_PB01E_TC3_WO1,1}
#define  PB23E_TC3_WO1    {PIN_PB23E_TC3_WO1,MUX_PB23E_TC3_WO1,1}
#define  PA14E_TC4_WO0    {PIN_PA14E_TC4_WO0,MUX_PA14E_TC4_WO0,0}
#define  PA18E_TC4_WO0    {PIN_PA18E_TC4_WO0,MUX_PA18E_TC4_WO0,0}
#define  PA15E_TC4_WO1    {PIN_PA15E_TC4_WO1,MUX_PA15E_TC4_WO1,1}
#define  PA19E_TC4_WO1    {PIN_PA19E_TC4_WO1,MUX_PA19E_TC4_WO1,1}
#define  PA04E_TCC0_WO0    {PIN_PA04E_TCC0_WO0,MUX_PA04E_TCC0_WO0,0}
#define  PA08E_TCC0_WO0    {PIN_PA08E_TCC0_WO0,MUX_PA08E_TCC0_WO0,0}
#define  PB30E_TCC0_WO0    {PIN_PB30E_TCC0_WO0,MUX_PB30E_TCC0_WO0,0}
#define  PA05E_TCC0_WO1    {PIN_PA05E_TCC0_WO1,MUX_PA05E_TCC0_WO1,1}
#define  PA09E_TCC0_WO1    {PIN_PA09E_TCC0_WO1,MUX_PA09E_TCC0_WO1,1}
#define  PB31E_TCC0_WO1    {PIN_PB31E_TCC0_WO1,MUX_PB31E_TCC0_WO1,1}
#define  PA10F_TCC0_WO2    {PIN_PA10F_TCC0_WO2,MUX_PA10F_TCC0_WO2,2}
#define  PA18F_TCC0_WO2    {PIN_PA18F_TCC0_WO2,MUX_PA18F_TCC0_WO2,2}
#define  PA11F_TCC0_WO3    {PIN_PA11F_TCC0_WO3,MUX_PA11F_TCC0_WO3,3}
#define  PA19F_TCC0_WO3    {PIN_PA19F_TCC0_WO3,MUX_PA19F_TCC0_WO3,3}
#define  PA14F_TCC0_WO4    {PIN_PA14F_TCC0_WO4,MUX_PA14F_TCC0_WO4,4}
#define  PA22F_TCC0_WO4    {PIN_PA22F_TCC0_WO4,MUX_PA22F_TCC0_WO4,4}
#define  PB10F_TCC0_WO4    {PIN_PB10F_TCC0_WO4,MUX_PB10F_TCC0_WO4,4}
#define  PB16F_TCC0_WO4    {PIN_PB16F_TCC0_WO4,MUX_PB16F_TCC0_WO4,4}
#define  PA15F_TCC0_WO5    {PIN_PA15F_TCC0_WO5,MUX_PA15F_TCC0_WO5,5}
#define  PA23F_TCC0_WO5    {PIN_PA23F_TCC0_WO5,MUX_PA23F_TCC0_WO5,5}
#define  PB11F_TCC0_WO5    {PIN_PB11F_TCC0_WO5,MUX_PB11F_TCC0_WO5,5}
#define  PB17F_TCC0_WO5    {PIN_PB17F_TCC0_WO5,MUX_PB17F_TCC0_WO5,5}
#define  PA12F_TCC0_WO6    {PIN_PA12F_TCC0_WO6,MUX_PA12F_TCC0_WO6,6}
#define  PA16F_TCC0_WO6    {PIN_PA16F_TCC0_WO6,MUX_PA16F_TCC0_WO6,6}
#define  PA20F_TCC0_WO6    {PIN_PA20F_TCC0_WO6,MUX_PA20F_TCC0_WO6,6}
#define  PB12F_TCC0_WO6    {PIN_PB12F_TCC0_WO6,MUX_PB12F_TCC0_WO6,6}
#define  PA13F_TCC0_WO7    {PIN_PA13F_TCC0_WO7,MUX_PA13F_TCC0_WO7,7}
#define  PA17F_TCC0_WO7    {PIN_PA17F_TCC0_WO7,MUX_PA17F_TCC0_WO7,7}
#define  PA21F_TCC0_WO7    {PIN_PA21F_TCC0_WO7,MUX_PA21F_TCC0_WO7,7}
#define  PB13F_TCC0_WO7    {PIN_PB13F_TCC0_WO7,MUX_PB13F_TCC0_WO7,7}
#define  PA06E_TCC1_WO0    {PIN_PA06E_TCC1_WO0,MUX_PA06E_TCC1_WO0,0}
#define  PA10E_TCC1_WO0    {PIN_PA10E_TCC1_WO0,MUX_PA10E_TCC1_WO0,0}
#define  PA30E_TCC1_WO0    {PIN_PA30E_TCC1_WO0,MUX_PA30E_TCC1_WO0,0}
#define  PA07E_TCC1_WO1    {PIN_PA07E_TCC1_WO1,MUX_PA07E_TCC1_WO1,1}
#define  PA11E_TCC1_WO1    {PIN_PA11E_TCC1_WO1,MUX_PA11E_TCC1_WO1,1}
#define  PA31E_TCC1_WO1    {PIN_PA31E_TCC1_WO1,MUX_PA31E_TCC1_WO1,1}
#define  PA08F_TCC1_WO2    {PIN_PA08F_TCC1_WO2,MUX_PA08F_TCC1_WO2,2}
#define  PA24F_TCC1_WO2    {PIN_PA24F_TCC1_WO2,MUX_PA24F_TCC1_WO2,2}
#define  PB30F_TCC1_WO2    {PIN_PB30F_TCC1_WO2,MUX_PB30F_TCC1_WO2,2}
#define  PA09F_TCC1_WO3    {PIN_PA09F_TCC1_WO3,MUX_PA09F_TCC1_WO3,3}
#define  PA25F_TCC1_WO3    {PIN_PA25F_TCC1_WO3,MUX_PA25F_TCC1_WO3,3}
#define  PB31F_TCC1_WO3    {PIN_PB31F_TCC1_WO3,MUX_PB31F_TCC1_WO3,3}
#define  PA00E_TCC2_WO0    {PIN_PA00E_TCC2_WO0,MUX_PA00E_TCC2_WO0,0}
#define  PA12E_TCC2_WO0    {PIN_PA12E_TCC2_WO0,MUX_PA12E_TCC2_WO0,0}
#define  PA16E_TCC2_WO0    {PIN_PA16E_TCC2_WO0,MUX_PA16E_TCC2_WO0,0}
#define  PA01E_TCC2_WO1    {PIN_PA01E_TCC2_WO1,MUX_PA01E_TCC2_WO1,1}
#define  PA13E_TCC2_WO1    {PIN_PA13E_TCC2_WO1,MUX_PA13E_TCC2_WO1,1}
#define  PA17E_TCC2_WO1    {PIN_PA17E_TCC2_WO1,MUX_PA17E_TCC2_WO1,1}


#include "ASF/sam0/drivers/port/port.h"

typedef struct {
	char pin;// pin number, example : PIN_PB03D_SERCOM5_PAD1=35 (pin PB03)
	char mux;// mux selection, example :  MUX_PB03D_SERCOM5_PAD1=3 (func D)
	char ch;// mux selection, example :  ..._PB03D_SERCOM5_PAD1=1 pad 1)
}
pindesc;
#define PCOM_LEN 6
typedef struct {
	//char				  len; // number of I/O pin
	char                  pins[PCOM_LEN];        /**< \brief list of pin */
	struct {	Sercom *               inst;        /**< \brief Sercom pointer */
				pindesc				  pins[PCOM_LEN];// pin ordered like on the connector
			} sercom;
	struct {	Adc  *             inst;       /**< \brief Adc pointer */
				pindesc				  pins[PCOM_LEN]// pin ordered like on the connector
			} adc;
	struct {	Eic    *           inst;       /**< \brief EIC pointer */
			pindesc				  pins[PCOM_LEN]// pin ordered like on the connector
		} interrupt;
} Pcom;
#define PANA_LEN 8
typedef struct {
	//char				  len; // number of I/O pin
	char                  pins[PANA_LEN];        /**< \brief list of pin */
	struct {	Adc  *             inst;       /**< \brief Adc pointer */
		pindesc				  pins[PANA_LEN]// pin ordered like on the connector
	} adc;
	struct {	Ac  *             inst;       /**< \brief Ac pointer */
			pindesc				  pins[PANA_LEN]// pin ordered like on the connector
		} ac;
		struct {	Dac  *             inst;       /**< \brief dac pointer */
			pindesc				  pins[PANA_LEN]// pin ordered like on the connector
		} dac;
				struct { void     *             inst;       /**< \brief dac pointer */
					pindesc				  pins[PANA_LEN]// pin ordered like on the connector
				} ptc;

} Pana;
typedef struct {
	int* instance;
	pindesc pins[6];	
	} 
	feature;
typedef struct {
	Pcom* pcom;
	int fiforx[6];
	int fifotx[6];
	void * handler[6];
}
Bus;

#define PUNDEF_IP  {-1,-1,-1}
	
//#define SERCOM_INSTS { SERCOM0, SERCOM1, SERCOM2, SERCOM3, SERCOM4, SERCOM5 }
#define PCOM0_gpio_pins	 {PIN_PA09,PIN_PA08,PIN_PA11,PIN_PA10,PIN_PA21,PIN_PA18}
#define PCOM0B_gpio_pins	 {PIN_PA05,PIN_PA04,PIN_PA07,PIN_PA06,PIN_PB08,PIN_PB09}
#define PCOM1_gpio_pins	 {PIN_PA01,PIN_PA00,PIN_PA31,PIN_PA30,PIN_PB01,PIN_PB00}
#define PCOM2_gpio_pins	 {PIN_PA13,PIN_PA12,PIN_PA15,PIN_PA14,PIN_PA16,PIN_PA17}
#define PCOM3_gpio_pins	 {PIN_PA23,PIN_PA22,PIN_PA25,PIN_PA24,PIN_PA19,PIN_PA20}
#define PCOM4_gpio_pins	 {PIN_PB13,PIN_PB12,PIN_PB15,PIN_PB14,PIN_PB17,PIN_PB16}
#define PCOM5_gpio_pins   {PIN_PB31,PIN_PB30,PIN_PB23,PIN_PB22,PIN_PA28,PIN_PA27}
#define PANA2_gpio_pins   {PIN_PB06,PIN_PB07,PIN_PB08,PIN_PB09,PIN_PA04,PIN_PA05,PIN_PA06,PIN_PA07}
#define PANA1_gpio_pins   {PIN_PB00,PIN_PB01,PIN_PB02,PIN_PB03,PIN_PA02,PIN_PA03,PIN_PB04,PIN_PB05}

#define PCOM0B_eic_pins  {PA09A_EIC_EXTINT9,PA08A_EIC_NMI,PA11A_EIC_EXTINT11,PA10A_EIC_EXTINT10,PA21A_EIC_EXTINT5,PA18A_EIC_EXTINT2}
#define PCOM0_eic_pins  {PA05A_EIC_EXTINT5,PA04A_EIC_EXTINT4,PA07A_EIC_EXTINT7,PA06A_EIC_EXTINT6,PB08A_EIC_EXTINT8,PB09A_EIC_EXTINT9}
#define PCOM1_eic_pins  {PA01A_EIC_EXTINT1,PA00A_EIC_EXTINT0,PA31A_EIC_EXTINT11,PA30A_EIC_EXTINT10,PB01A_EIC_EXTINT1,PB00A_EIC_EXTINT0}
#define PCOM2_eic_pins  {PA13A_EIC_EXTINT13,PA12A_EIC_EXTINT12,PA15A_EIC_EXTINT15,PA14A_EIC_EXTINT14,PA16A_EIC_EXTINT0,PA17A_EIC_EXTINT1}
#define PCOM3_eic_pins  {PA23A_EIC_EXTINT7,PA22A_EIC_EXTINT6,PA25A_EIC_EXTINT13,PA24A_EIC_EXTINT12,PA19A_EIC_EXTINT3,PA20A_EIC_EXTINT4}
#define PCOM4_eic_pins  {PB13A_EIC_EXTINT13,PB12A_EIC_EXTINT12,PB15A_EIC_EXTINT15,PB14A_EIC_EXTINT14,PB17A_EIC_EXTINT1,PB16A_EIC_EXTINT0}
#define PCOM5_eic_pins  {PB31A_EIC_EXTINT15,PB30A_EIC_EXTINT14,PB23A_EIC_EXTINT7,PB22A_EIC_EXTINT6,PA28A_EIC_EXTINT8,PA27A_EIC_EXTINT15}


#define PCOM0_sercom_pins   {PA09C_SERCOM0_PAD1,PA08C_SERCOM0_PAD0,PA11C_SERCOM0_PAD3,PA10C_SERCOM0_PAD2,PUNDEF_IP,PUNDEF_IP}
#define PCOM0B_sercom_pins   {PA05D_SERCOM0_PAD1,PA04D_SERCOM0_PAD0,PA07D_SERCOM0_PAD3,PA06D_SERCOM0_PAD2,PUNDEF_IP,PUNDEF_IP}
#define PCOM1_sercom_pins   {PA01D_SERCOM1_PAD1,PA00D_SERCOM1_PAD0,PA31D_SERCOM1_PAD3,PA30D_SERCOM1_PAD2,PUNDEF_IP,PUNDEF_IP}
#define PCOM2_sercom_pins   {PA13C_SERCOM2_PAD1,PA12C_SERCOM2_PAD0,PA15C_SERCOM2_PAD3,PA14C_SERCOM2_PAD2,PUNDEF_IP,PUNDEF_IP}
#define PCOM3_sercom_pins   {PA23C_SERCOM3_PAD1,PA22C_SERCOM3_PAD0,PA25C_SERCOM3_PAD3,PA24C_SERCOM3_PAD2,PUNDEF_IP,PUNDEF_IP}
#define PCOM4_sercom_pins   {PB13C_SERCOM4_PAD1,PB12C_SERCOM4_PAD0,PB15C_SERCOM4_PAD3,PB14C_SERCOM4_PAD2,PUNDEF_IP,PUNDEF_IP}
#define PCOM5_sercom_pins   {PB31D_SERCOM5_PAD1,PB30D_SERCOM5_PAD0,PB23D_SERCOM5_PAD3,PB22D_SERCOM5_PAD2,PUNDEF_IP,PUNDEF_IP}

#define PCOM0_adc_pins  {PA09B_ADC0_AIN9,PA08B_ADC0_AIN8,PA11B_ADC0_AIN11,PA10B_ADC0_AIN10,PUNDEF_IP,PUNDEF_IP}
#define PCOM0B_adc_pins  {PA05B_ADC0_AIN5,PA04B_ADC0_AIN4,PA07B_ADC0_AIN7,PA06B_ADC0_AIN6,PB08B_ADC0_AIN2,PB09B_ADC0_AIN3}
#define PCOM1_adc_pins  {PUNDEF_IP,PUNDEF_IP,PUNDEF_IP,PUNDEF_IP,PB01B_ADC0_AIN9,PB00B_ADC0_AIN8}
	
	
	
#define PCOM0 (Pcom) {PCOM0_gpio_pins,{SERCOM0,PCOM0_sercom_pins},{ADC0,PCOM0_adc_pins},{EIC,PCOM0_eic_pins}  }
#define PCOM1 (Pcom) {PCOM1_gpio_pins,{SERCOM1,PCOM1_sercom_pins},{ADC1,PCOM1_adc_pins},{EIC,PCOM1_eic_pins}  }
#define PCOM2 (Pcom) {PCOM2_gpio_pins,{SERCOM2,PCOM2_sercom_pins},{(Adc*)-1,{PUNDEF_IP,PUNDEF_IP,PUNDEF_IP,PUNDEF_IP,PUNDEF_IP,PUNDEF_IP}},{EIC,PCOM2_eic_pins} }
#define PCOM3 (Pcom) {PCOM3_gpio_pins,{SERCOM3,PCOM3_sercom_pins},{(Adc*)-1,{PUNDEF_IP,PUNDEF_IP,PUNDEF_IP,PUNDEF_IP,PUNDEF_IP,PUNDEF_IP}},{EIC,PCOM3_eic_pins} }
#define PCOM4 (Pcom) {PCOM4_gpio_pins,{SERCOM4,PCOM4_sercom_pins},{(Adc*)-1,{PUNDEF_IP,PUNDEF_IP,PUNDEF_IP,PUNDEF_IP,PUNDEF_IP,PUNDEF_IP}},{EIC,PCOM4_eic_pins} }
#define PCOM5 (Pcom) {PCOM5_gpio_pins,{SERCOM5,PCOM5_sercom_pins},{(Adc*)-1,{PUNDEF_IP,PUNDEF_IP,PUNDEF_IP,PUNDEF_IP,PUNDEF_IP,PUNDEF_IP}},{EIC,PCOM5_eic_pins} }
#define PCOM0B (Pcom) {PCOM0B_gpio_pins,{SERCOM0,PCOM0B_sercom_pins},{ADC0,PCOM1_adc_pins},{EIC, PCOM0B_eic_pins} }
#define PANA1 (Pana) {PANA1_gpio_pins/*,...*/}
#define PANA2 (Pana) {PANA2_gpio_pins/*,...*/}



const  struct port_config  config={PORT_PIN_DIR_INPUT,SYSTEM_PINMUX_PIN_PULL_DOWN,false};
const  struct port_config  configout={PORT_PIN_DIR_OUTPUT_WTH_READBACK,SYSTEM_PINMUX_PIN_PULL_DOWN,false};

/* if you connect coma to comb ,it will test it to check solder of TQF64 */
bool test(Pcom Pcoma,Pcom Pcomb)
{
	

	int signed i=0;
	for(i=0;i<6;i++)
	port_pin_set_config(Pcomb.pins[i],&config);
	for(i=0;i<6;i++)
	port_pin_set_config(Pcoma.pins[i],&config);
	volatile char r0=0;
	volatile char r1=1;

	for(i=0;i<6;i++)
	{
		
		r0|=port_pin_get_input_level(Pcoma.pins[i]);
		port_pin_set_output_level(Pcomb.pins[i],1);
		port_pin_set_config(Pcomb.pins[i],&configout);
		r1&=port_pin_get_input_level(Pcoma.pins[i]);
	}
	

	for(i=0;i<6;i++)
	port_pin_set_config(Pcomb.pins[i],&config);
	
	for(i=5;i>=0;i--)
	{
		
		r0|=port_pin_get_input_level(Pcomb.pins[i]);
		port_pin_set_output_level(Pcoma.pins[i],1);
		port_pin_set_config(Pcoma.pins[i],&configout);
		r1&=port_pin_get_input_level(Pcomb.pins[i]);
	}
	
	for(i=0;i<6;i++)
	port_pin_set_config(Pcoma.pins[i],&config);
	
	return ((r0==0) && (r1==1));
}
/**
 *  \brief SAM-BA Main loop.
 *  \return Unused (ANSI-C compatibility).
 */
int main(void)
{
const Pcom Pcom0=PCOM0B;
const Pcom Pcom1=PCOM1;
const Pcom Pcom2=PCOM2;
const Pcom Pcom3=PCOM3;
const Pcom Pcom4=PCOM4;
const Pcom Pcom5=PCOM5;
const Pcom Pcom0B=PCOM0B;
 test( Pcom1, Pcom5);
 test( Pcom0B, Pcom5);
 test( Pcom0, Pcom2);
 test( Pcom3, Pcom4);
 

	DEBUG_PIN_HIGH;

	/* Jump in application if condition is satisfied */
	check_start_application();

	/* We have determined we should stay in the monitor. */
	/* System initialization */
	system_init();

#ifdef CONF_USBCDC_INTERFACE_SUPPORT
	/* Start USB stack */
	udc_start();
#endif
	/* UART is enabled in all cases */
	usart_open();

	DEBUG_PIN_LOW;
	/* Wait for a complete enum on usb or a '#' char on serial line */
	while (1) {
#ifdef CONF_USBCDC_INTERFACE_SUPPORT
		/* Check if a USB enumeration has succeeded and com port was opened */
		if(main_b_cdc_enable) {
			sam_ba_monitor_init(SAM_BA_INTERFACE_USBCDC);
			/* SAM-BA on USB loop */
			while(1) {
				sam_ba_monitor_run();
			}
		}
#endif
		/* Check if a '#' has been received */
		if (usart_sharp_received()) {
			sam_ba_monitor_init(SAM_BA_INTERFACE_USART);
			/* SAM-BA on UART loop */
			while(1) {
				sam_ba_monitor_run();
			}
		}
	}
}

#ifdef CONF_USBCDC_INTERFACE_SUPPORT
#ifdef USB_DEVICE_LPM_SUPPORT
void main_suspend_lpm_action(void)
{
}

void main_remotewakeup_lpm_disable(void)
{
}

void main_remotewakeup_lpm_enable(void)
{
}
#endif

bool main_cdc_enable(uint8_t port)
{
	main_b_cdc_enable = true;
	return true;
}

void main_cdc_disable(uint8_t port)
{
	main_b_cdc_enable = false;
}

void main_cdc_set_dtr(uint8_t port, bool b_enable)
{
}

void main_cdc_rx_notify(uint8_t port)
{
}

void main_cdc_set_coding(uint8_t port, usb_cdc_line_coding_t * cfg)
{
}
#endif